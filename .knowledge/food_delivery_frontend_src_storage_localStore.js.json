{"is_source_file": true, "format": "JavaScript", "description": "This file defines a localStorage-backed data layer for a food delivery web app. It provides CRUD operations for Users, Restaurants, Menus, Orders, and a shopping Cart. It includes seed data initialization, utility functions for state management, and public helpers marked with 'PUBLIC_INTERFACE' comments.", "external_files": [], "external_methods": [], "published": ["resetToSeed", "getUsers", "getUserById", "createUser", "updateUser", "deleteUser", "getRestaurants", "getRestaurantById", "createRestaurant", "updateRestaurant", "deleteRestaurant", "getMenus", "getMenusByRestaurant", "getMenuItemById", "createMenuItem", "updateMenuItem", "deleteMenuItem", "getOrders", "getOrdersByUser", "getOrderById", "createOrder", "updateOrderStatus", "deleteOrder", "getAppState", "getCart", "clearCart", "addToCart"], "classes": [], "methods": [{"name": "loadCart()", "description": "Internal: reads the cart array from localStorage.", "scope": "", "scopeKind": ""}, {"name": "saveCart(items)", "description": "Internal: persists the cart array to localStorage.", "scope": "", "scopeKind": ""}, {"name": "loadState()", "description": "Internal: loads the entire app state from localStorage.", "scope": "", "scopeKind": ""}, {"name": "saveState(state)", "description": "Internal: saves the entire app state to localStorage.", "scope": "", "scopeKind": ""}, {"name": "nextId(items)", "description": "Generates the next ID for an entity based on current array of items.", "scope": "", "scopeKind": ""}, {"name": "ensureInitialized()", "description": "Checks if state exists; if not, initializes seed data.", "scope": "", "scopeKind": ""}, {"name": "getState()", "description": "Internal: retrieves current app state, initializing if necessary.", "scope": "", "scopeKind": ""}, {"name": "setState(mutator)", "description": "Internal: updates the app state via a mutator function.", "scope": "", "scopeKind": ""}, {"name": "addToCart(payload)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "clearCart()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "createMenuItem(menuItem)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "createOrder(order)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "createRestaurant(restaurant)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "createUser(user)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "deleteMenuItem(id)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "deleteOrder(id)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "deleteRestaurant(id)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "deleteUser(id)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "getAppState()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "getCart()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "getMenuItemById(id)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "getMenus()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "getMenusByRestaurant(restaurantId)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "getOrderById(id)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "getOrders()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "getOrdersByUser(userId)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "getRestaurantById(id)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "getRestaurants()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "getUserById(id)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "getUsers()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "resetToSeed()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "updateMenuItem(id, patch)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "updateOrderStatus(id, status)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "updateRestaurant(id, patch)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "updateUser(id, patch)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["window.localStorage.getItem", "window.localStorage.setItem", "console.warn", "console.error", "Date().toISOString()", "Array.isArray", "JSON.parse", "JSON.stringify", "Array.prototype.find", "Array.prototype.filter", "Array.prototype.slice", "Array.prototype.map", "Math.max", "Math.min", "Number", "String", "Object.assign"], "search-terms": ["localStorage data layer", "seed data", "menu management", "order processing", "cart management", "food delivery app", "CRUD helpers", "state initialization", "offline cache"], "state": 2, "file_id": 13, "knowledge_revision": 39, "git_revision": "72b3d681ebfc109a7673bdcab3cf990407914127", "revision_history": [{"27": ""}, {"38": "72b3d681ebfc109a7673bdcab3cf990407914127"}, {"39": "72b3d681ebfc109a7673bdcab3cf990407914127"}], "ctags": [{"_type": "tag", "name": "CART_KEY", "path": "/home/kavia/workspace/code-generation/local-food-delivery-app-139316-139325/food_delivery_frontend/src/storage/localStore.js", "pattern": "/^ const CART_KEY = 'fd_cart_v1';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "STORAGE_KEY", "path": "/home/kavia/workspace/code-generation/local-food-delivery-app-139316-139325/food_delivery_frontend/src/storage/localStore.js", "pattern": "/^ const STORAGE_KEY = 'fd_app_state_v1';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "addToCart", "path": "/home/kavia/workspace/code-generation/local-food-delivery-app-139316-139325/food_delivery_frontend/src/storage/localStore.js", "pattern": "/^ export function addToCart(payload) {$/", "language": "JavaScript", "kind": "function", "signature": "(payload)"}, {"_type": "tag", "name": "clearCart", "path": "/home/kavia/workspace/code-generation/local-food-delivery-app-139316-139325/food_delivery_frontend/src/storage/localStore.js", "pattern": "/^ export function clearCart() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "createMenuItem", "path": "/home/kavia/workspace/code-generation/local-food-delivery-app-139316-139325/food_delivery_frontend/src/storage/localStore.js", "pattern": "/^ export function createMenuItem(menuItem) {$/", "language": "JavaScript", "kind": "function", "signature": "(menuItem)"}, {"_type": "tag", "name": "createOrder", "path": "/home/kavia/workspace/code-generation/local-food-delivery-app-139316-139325/food_delivery_frontend/src/storage/localStore.js", "pattern": "/^ export function createOrder(order) {$/", "language": "JavaScript", "kind": "function", "signature": "(order)"}, {"_type": "tag", "name": "createRestaurant", "path": "/home/kavia/workspace/code-generation/local-food-delivery-app-139316-139325/food_delivery_frontend/src/storage/localStore.js", "pattern": "/^ export function createRestaurant(restaurant) {$/", "language": "JavaScript", "kind": "function", "signature": "(restaurant)"}, {"_type": "tag", "name": "createUser", "path": "/home/kavia/workspace/code-generation/local-food-delivery-app-139316-139325/food_delivery_frontend/src/storage/localStore.js", "pattern": "/^ export function createUser(user) {$/", "language": "JavaScript", "kind": "function", "signature": "(user)"}, {"_type": "tag", "name": "deleteMenuItem", "path": "/home/kavia/workspace/code-generation/local-food-delivery-app-139316-139325/food_delivery_frontend/src/storage/localStore.js", "pattern": "/^ export function deleteMenuItem(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)"}, {"_type": "tag", "name": "deleteOrder", "path": "/home/kavia/workspace/code-generation/local-food-delivery-app-139316-139325/food_delivery_frontend/src/storage/localStore.js", "pattern": "/^ export function deleteOrder(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)"}, {"_type": "tag", "name": "deleteRestaurant", "path": "/home/kavia/workspace/code-generation/local-food-delivery-app-139316-139325/food_delivery_frontend/src/storage/localStore.js", "pattern": "/^ export function deleteRestaurant(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)"}, {"_type": "tag", "name": "deleteUser", "path": "/home/kavia/workspace/code-generation/local-food-delivery-app-139316-139325/food_delivery_frontend/src/storage/localStore.js", "pattern": "/^ export function deleteUser(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)"}, {"_type": "tag", "name": "ensureInitialized", "path": "/home/kavia/workspace/code-generation/local-food-delivery-app-139316-139325/food_delivery_frontend/src/storage/localStore.js", "pattern": "/^ function ensureInitialized() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getAppState", "path": "/home/kavia/workspace/code-generation/local-food-delivery-app-139316-139325/food_delivery_frontend/src/storage/localStore.js", "pattern": "/^ export function getAppState() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getCart", "path": "/home/kavia/workspace/code-generation/local-food-delivery-app-139316-139325/food_delivery_frontend/src/storage/localStore.js", "pattern": "/^ export function getCart() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getMenuItemById", "path": "/home/kavia/workspace/code-generation/local-food-delivery-app-139316-139325/food_delivery_frontend/src/storage/localStore.js", "pattern": "/^ export function getMenuItemById(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)"}, {"_type": "tag", "name": "getMenus", "path": "/home/kavia/workspace/code-generation/local-food-delivery-app-139316-139325/food_delivery_frontend/src/storage/localStore.js", "pattern": "/^ export function getMenus() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getMenusByRestaurant", "path": "/home/kavia/workspace/code-generation/local-food-delivery-app-139316-139325/food_delivery_frontend/src/storage/localStore.js", "pattern": "/^ export function getMenusByRestaurant(restaurantId) {$/", "language": "JavaScript", "kind": "function", "signature": "(restaurantId)"}, {"_type": "tag", "name": "getOrderById", "path": "/home/kavia/workspace/code-generation/local-food-delivery-app-139316-139325/food_delivery_frontend/src/storage/localStore.js", "pattern": "/^ export function getOrderById(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)"}, {"_type": "tag", "name": "getOrders", "path": "/home/kavia/workspace/code-generation/local-food-delivery-app-139316-139325/food_delivery_frontend/src/storage/localStore.js", "pattern": "/^ export function getOrders() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getOrdersByUser", "path": "/home/kavia/workspace/code-generation/local-food-delivery-app-139316-139325/food_delivery_frontend/src/storage/localStore.js", "pattern": "/^ export function getOrdersByUser(userId) {$/", "language": "JavaScript", "kind": "function", "signature": "(userId)"}, {"_type": "tag", "name": "getRestaurantById", "path": "/home/kavia/workspace/code-generation/local-food-delivery-app-139316-139325/food_delivery_frontend/src/storage/localStore.js", "pattern": "/^ export function getRestaurantById(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)"}, {"_type": "tag", "name": "getRestaurants", "path": "/home/kavia/workspace/code-generation/local-food-delivery-app-139316-139325/food_delivery_frontend/src/storage/localStore.js", "pattern": "/^ export function getRestaurants() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getState", "path": "/home/kavia/workspace/code-generation/local-food-delivery-app-139316-139325/food_delivery_frontend/src/storage/localStore.js", "pattern": "/^ function getState() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getUserById", "path": "/home/kavia/workspace/code-generation/local-food-delivery-app-139316-139325/food_delivery_frontend/src/storage/localStore.js", "pattern": "/^ export function getUserById(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)"}, {"_type": "tag", "name": "getUsers", "path": "/home/kavia/workspace/code-generation/local-food-delivery-app-139316-139325/food_delivery_frontend/src/storage/localStore.js", "pattern": "/^ export function getUsers() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "loadCart", "path": "/home/kavia/workspace/code-generation/local-food-delivery-app-139316-139325/food_delivery_frontend/src/storage/localStore.js", "pattern": "/^ function loadCart() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "loadState", "path": "/home/kavia/workspace/code-generation/local-food-delivery-app-139316-139325/food_delivery_frontend/src/storage/localStore.js", "pattern": "/^ function loadState() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "menuItemId", "path": "/home/kavia/workspace/code-generation/local-food-delivery-app-139316-139325/food_delivery_frontend/src/storage/localStore.js", "pattern": "/^     menuItemId: Number(menuItemId),$/", "language": "JavaScript", "kind": "property", "scope": "addToCart.newLine", "scopeKind": "class"}, {"_type": "tag", "name": "menus", "path": "/home/kavia/workspace/code-generation/local-food-delivery-app-139316-139325/food_delivery_frontend/src/storage/localStore.js", "pattern": "/^     menus: seedMenus,$/", "language": "JavaScript", "kind": "property", "scope": "ensureInitialized.state", "scopeKind": "class"}, {"_type": "tag", "name": "name", "path": "/home/kavia/workspace/code-generation/local-food-delivery-app-139316-139325/food_delivery_frontend/src/storage/localStore.js", "pattern": "/^     name: String(name || ''),$/", "language": "JavaScript", "kind": "property", "scope": "addToCart.newLine", "scopeKind": "class"}, {"_type": "tag", "name": "newLine", "path": "/home/kavia/workspace/code-generation/local-food-delivery-app-139316-139325/food_delivery_frontend/src/storage/localStore.js", "pattern": "/^   const newLine = {$/", "language": "JavaScript", "kind": "class", "scope": "addToCart", "scopeKind": "class"}, {"_type": "tag", "name": "nextId", "path": "/home/kavia/workspace/code-generation/local-food-delivery-app-139316-139325/food_delivery_frontend/src/storage/localStore.js", "pattern": "/^ function nextId(items) {$/", "language": "JavaScript", "kind": "function", "signature": "(items)"}, {"_type": "tag", "name": "orders", "path": "/home/kavia/workspace/code-generation/local-food-delivery-app-139316-139325/food_delivery_frontend/src/storage/localStore.js", "pattern": "/^     orders: seedOrders$/", "language": "JavaScript", "kind": "property", "scope": "ensureInitialized.state", "scopeKind": "class"}, {"_type": "tag", "name": "quantity", "path": "/home/kavia/workspace/code-generation/local-food-delivery-app-139316-139325/food_delivery_frontend/src/storage/localStore.js", "pattern": "/^     quantity: qty,$/", "language": "JavaScript", "kind": "property", "scope": "addToCart.newLine", "scopeKind": "class"}, {"_type": "tag", "name": "resetToSeed", "path": "/home/kavia/workspace/code-generation/local-food-delivery-app-139316-139325/food_delivery_frontend/src/storage/localStore.js", "pattern": "/^ export function resetToSeed() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "restaurantId", "path": "/home/kavia/workspace/code-generation/local-food-delivery-app-139316-139325/food_delivery_frontend/src/storage/localStore.js", "pattern": "/^     restaurantId: Number(restaurantId),$/", "language": "JavaScript", "kind": "property", "scope": "addToCart.newLine", "scopeKind": "class"}, {"_type": "tag", "name": "restaurants", "path": "/home/kavia/workspace/code-generation/local-food-delivery-app-139316-139325/food_delivery_frontend/src/storage/localStore.js", "pattern": "/^     restaurants: seedRestaurants,$/", "language": "JavaScript", "kind": "property", "scope": "ensureInitialized.state", "scopeKind": "class"}, {"_type": "tag", "name": "saveCart", "path": "/home/kavia/workspace/code-generation/local-food-delivery-app-139316-139325/food_delivery_frontend/src/storage/localStore.js", "pattern": "/^ function saveCart(items) {$/", "language": "JavaScript", "kind": "function", "signature": "(items)"}, {"_type": "tag", "name": "saveState", "path": "/home/kavia/workspace/code-generation/local-food-delivery-app-139316-139325/food_delivery_frontend/src/storage/localStore.js", "pattern": "/^ function saveState(state) {$/", "language": "JavaScript", "kind": "function", "signature": "(state)"}, {"_type": "tag", "name": "setState", "path": "/home/kavia/workspace/code-generation/local-food-delivery-app-139316-139325/food_delivery_frontend/src/storage/localStore.js", "pattern": "/^ function setState(mutator) {$/", "language": "JavaScript", "kind": "function", "signature": "(mutator)"}, {"_type": "tag", "name": "state", "path": "/home/kavia/workspace/code-generation/local-food-delivery-app-139316-139325/food_delivery_frontend/src/storage/localStore.js", "pattern": "/^   state = {$/", "language": "JavaScript", "kind": "class", "scope": "ensureInitialized", "scopeKind": "class"}, {"_type": "tag", "name": "unitPrice", "path": "/home/kavia/workspace/code-generation/local-food-delivery-app-139316-139325/food_delivery_frontend/src/storage/localStore.js", "pattern": "/^     unitPrice: Number(price),$/", "language": "JavaScript", "kind": "property", "scope": "addToCart.newLine", "scopeKind": "class"}, {"_type": "tag", "name": "updateMenuItem", "path": "/home/kavia/workspace/code-generation/local-food-delivery-app-139316-139325/food_delivery_frontend/src/storage/localStore.js", "pattern": "/^ export function updateMenuItem(id, patch) {$/", "language": "JavaScript", "kind": "function", "signature": "(id, patch)"}, {"_type": "tag", "name": "updateOrderStatus", "path": "/home/kavia/workspace/code-generation/local-food-delivery-app-139316-139325/food_delivery_frontend/src/storage/localStore.js", "pattern": "/^ export function updateOrderStatus(id, status) {$/", "language": "JavaScript", "kind": "function", "signature": "(id, status)"}, {"_type": "tag", "name": "updateRestaurant", "path": "/home/kavia/workspace/code-generation/local-food-delivery-app-139316-139325/food_delivery_frontend/src/storage/localStore.js", "pattern": "/^ export function updateRestaurant(id, patch) {$/", "language": "JavaScript", "kind": "function", "signature": "(id, patch)"}, {"_type": "tag", "name": "updateUser", "path": "/home/kavia/workspace/code-generation/local-food-delivery-app-139316-139325/food_delivery_frontend/src/storage/localStore.js", "pattern": "/^ export function updateUser(id, patch) {$/", "language": "JavaScript", "kind": "function", "signature": "(id, patch)"}, {"_type": "tag", "name": "users", "path": "/home/kavia/workspace/code-generation/local-food-delivery-app-139316-139325/food_delivery_frontend/src/storage/localStore.js", "pattern": "/^     users: seedUsers,$/", "language": "JavaScript", "kind": "property", "scope": "ensureInitialized.state", "scopeKind": "class"}], "hash": "573c43ce0a83b15a9502ea85a260151a", "format-version": 4, "code-base-name": "food_delivery_frontend", "filename": "food_delivery_frontend/src/storage/localStore.js", "fields": [{"name": "menuItemId: Number(menuItemId),", "scope": "addToCart.newLine", "scopeKind": "class", "description": "unavailable"}, {"name": "menus: seedMenus,", "scope": "ensureInitialized.state", "scopeKind": "class", "description": "unavailable"}, {"name": "name: String(name || ''),", "scope": "addToCart.newLine", "scopeKind": "class", "description": "unavailable"}, {"name": "orders: seedOrders", "scope": "ensureInitialized.state", "scopeKind": "class", "description": "unavailable"}, {"name": "quantity: qty,", "scope": "addToCart.newLine", "scopeKind": "class", "description": "unavailable"}, {"name": "restaurantId: Number(restaurantId),", "scope": "addToCart.newLine", "scopeKind": "class", "description": "unavailable"}, {"name": "restaurants: seedRestaurants,", "scope": "ensureInitialized.state", "scopeKind": "class", "description": "unavailable"}, {"name": "unitPrice: Number(price),", "scope": "addToCart.newLine", "scopeKind": "class", "description": "unavailable"}, {"name": "users: seedUsers,", "scope": "ensureInitialized.state", "scopeKind": "class", "description": "unavailable"}]}